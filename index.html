<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Appraisal Mobil</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      padding: 20px;
    }
    .container {
      max-width: 700px;
      margin: auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    select, input {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      background-color: #d51920;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    .result {
      margin-top: 30px;
      background-color: #eaeaea;
      padding: 20px;
      border-radius: 10px;
    }
    img.logo {
      width: 180px;
      display: block;
      margin: 0 auto 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="logo-agung-toyota.png" alt="Logo Agung Toyota" class="logo">
    <h2>Form Appraisal Mobil Bekas Toyota</h2>

    <label for="model">Pilih Model Mobil:</label>
    <select id="model">
      <option value="">-- Pilih Model --</option>
      <option value="Avanza">Avanza</option>
      <option value="Rush">Rush</option>
      <option value="Innova">Innova</option>
      <option value="Fortuner">Fortuner</option>
      <option value="Calya">Calya</option>
      <option value="Agya">Agya</option>
      <option value="Veloz">Veloz</option>
      <option value="Yaris">Yaris</option>
      <option value="Sienta">Sienta</option>
    </select>

    <label for="type">Tipe Mobil:</label>
    <select id="type">
      <option value="">-- Pilih Tipe --</option>
      <option value="G">G</option>
      <option value="E">E</option>
      <option value="V">V</option>
      <option value="Q">Q</option>
      <option value="TRD">TRD</option>
      <option value="GR">GR</option>
    </select>

    <label for="transmission">Transmisi:</label>
    <select id="transmission">
      <option value="">-- Pilih Transmisi --</option>
      <option value="MT">Manual (MT)</option>
      <option value="AT">Automatic (AT)</option>
      <option value="CVT">CVT</option>
    </select>

    <label for="year">Tahun Kendaraan:</label>
    <select id="year">
      <option value="">-- Pilih Tahun --</option>
      <option value="2018">2018</option>
      <option value="2019">2019</option>
      <option value="2020">2020</option>
      <option value="2021">2021</option>
      <option value="2022">2022</option>
    </select>

    <label for="condition">Kondisi Umum:</label>
    <select id="condition">
      <option value="">-- Pilih Kondisi --</option>
      <option value="1">Buruk</option>
      <option value="2">Cukup</option>
      <option value="3">Baik</option>
      <option value="4">Sangat Baik</option>
      <option value="5">Istimewa</option>
    </select>

    <label for="km">Kilometer Kendaraan (ribu km):</label>
    <input type="number" id="km" min="0">

    <button onclick="calculateAppraisal()">Hitung Appraisal</button>

    <div id="result" class="result"></div>
  </div>

  <script>
    const priceData = {
      "Avanza": {"2018": 155000000, "2019": 165000000, "2020": 175000000, "2021": 185000000, "2022": 195000000},
      "Rush": {"2018": 205000000, "2019": 215000000, "2020": 225000000, "2021": 235000000, "2022": 245000000},
      "Innova": {"2018": 275000000, "2019": 285000000, "2020": 295000000, "2021": 305000000, "2022": 315000000},
      "Fortuner": {"2018": 405000000, "2019": 415000000, "2020": 425000000, "2021": 435000000, "2022": 445000000},
      "Calya": {"2018": 125000000, "2019": 130000000, "2020": 135000000, "2021": 140000000, "2022": 145000000},
      "Agya": {"2018": 115000000, "2019": 120000000, "2020": 125000000, "2021": 130000000, "2022": 135000000},
      "Veloz": {"2020": 185000000, "2021": 195000000, "2022": 205000000},
      "Yaris": {"2018": 215000000, "2019": 225000000, "2020": 235000000, "2021": 245000000, "2022": 255000000},
      "Sienta": {"2018": 195000000, "2019": 205000000, "2020": 215000000, "2021": 225000000, "2022": 235000000},
    };

    function calculateAppraisal() {
      const model = document.getElementById('model').value;
      const year = document.getElementById('year').value;
      const type = document.getElementById('type').value;
      const transmission = document.getElementById('transmission').value;
      const condition = parseFloat(document.getElementById('condition').value);
      const km = parseFloat(document.getElementById('km').value);

      const basePrice = priceData[model]?.[year];
      if (!basePrice) {
        document.getElementById('result').innerText = 'Harga dasar tidak ditemukan.';
        return;
      }

      // Faktor koreksi
      const conditionFactor = condition / 5; // dari 0.2 - 1.0
      const kmFactor = km > 100 ? 0.85 : (km > 50 ? 0.95 : 1.0);
      const typeFactor = (type === 'Q' || type === 'GR') ? 1.05 : (type === 'G' ? 1.00 : 0.95);
      const transFactor = (transmission === 'AT' || transmission === 'CVT') ? 1.03 : 1.00;

      const finalPrice = Math.round(basePrice * conditionFactor * kmFactor * typeFactor * transFactor);

      document.getElementById('result').innerHTML = `
        <strong>Harga Pasar:</strong> Rp ${basePrice.toLocaleString('id-ID')}<br>
        <strong>Model:</strong> ${model} ${type} (${transmission})<br>
        <strong>Kondisi Umum:</strong> ${document.getElementById('condition').options[document.getElementById('condition').selectedIndex].text}<br>
        <strong>KM:</strong> ${km} ribu km<br>
        <strong>Appraisal:</strong> <b>Rp ${finalPrice.toLocaleString('id-ID')}</b>
      `;
    }
  </script>
</body>
</html>
